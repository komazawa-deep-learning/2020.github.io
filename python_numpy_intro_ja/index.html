<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Shin Asakawa">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Python の基礎 - 2020駒澤大学心理学特講IIIA</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="//fonts.googleapis.com/earlyaccess/notosansjp.css" rel="stylesheet">
  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet">
  <link href="../css/specific.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Python \u306e\u57fa\u790e";
    var mkdocs_page_input_path = "python_numpy_intro_ja.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> 2020駒澤大学心理学特講IIIA</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../lect00check_meet/">第 0 回 事前確認</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect00guidance/">第 0 回 ガイダンス</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect01/">第 1 回 05 月 08 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect02/">第 2 回 05 月 15 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect03/">第 3 回 05 月 22 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect04/">第 4 回 05 月 29 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect05/">第 5 回 06 月 05 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="https://github.com/ShinAsakawa/ShinAsakawa.github.io/blob/master/2020-0614exawizards_attention.pdf">第 6 回 06 月 14 日 ICLR読み会</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect07/">第 7 回 06月 19 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect08/">第 8 回 06月 26 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect09/">第 9 回 07月 03 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect10/">第 10 回 07月 10 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect11/">第 11 回 07月 17 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../lect12/">第 12 回 07月 24 日</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">付録</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../colaboratory_intro/">Colab 事始め</a>
                </li>
                <li class="">
                    
    <a class="" href="../colaboratory_faq/">Colaboratory FAQ</a>
                </li>
                <li class="">
                    
    <a class="" href="../eco/">エコシステム</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Python の基礎</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#python">Python</a></li>
    

    <li class="toctree-l3"><a href="#python_1">Python のバージョン</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#_1">基本データ型</a></li>
        
            <li><a class="toctree-l4" href="#_4">コンテナ</a></li>
        
            <li><a class="toctree-l4" href="#_16">関数</a></li>
        
            <li><a class="toctree-l4" href="#_17">クラス</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#numpy">NumPy</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#_18">配列</a></li>
        
            <li><a class="toctree-l4" href="#_19">配列指定</a></li>
        
            <li><a class="toctree-l4" href="#_20">スライス:</a></li>
        
            <li><a class="toctree-l4" href="#_23">データ型</a></li>
        
            <li><a class="toctree-l4" href="#_24">数学的配列</a></li>
        
            <li><a class="toctree-l4" href="#_25">ブロードキャスト</a></li>
        
            <li><a class="toctree-l4" href="#numpy_1">NumPy の文書</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#scipy">SciPy</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#_26">画像操作</a></li>
        
            <li><a class="toctree-l4" href="#distance-between-points">Distance between points</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#matplotlib">Matplotlib</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#_27">プロット</a></li>
        
            <li><a class="toctree-l4" href="#_28">サブプロット</a></li>
        
            <li><a class="toctree-l4" href="#_29">画像</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../python_modules/">Python modules</a>
                </li>
                <li class="">
                    
    <a class="" href="../2020-0510how_to_save_and_share_colab_files/">2020-0510 課題提出の方法</a>
                </li>
                <li class="">
                    
    <a class="" href="../Hinton_Maxwell_award/">ジェフェリー・ヒントンのマクセル賞受賞記念講演(2016)</a>
                </li>
                <li class="">
                    
    <a class="" href="../activation_functions/">活性化関数</a>
                </li>
                <li class="">
                    
    <a class="" href="../t-SNE/">次元圧縮 t-SNE</a>
                </li>
                <li class="">
                    
    <a class="" href="../information_theory/">情報理論</a>
                </li>
                <li class="">
                    
    <a class="" href="../data_science/">データサイエンス小史</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/komazawa-deep-learning/komazawa-deep-learning.github.io/blob/master/notebooks/2020komazawa_how_to_read_math_equations.ipynb">数式の読み方</a>
                </li>
                <li class="">
                    
    <a class="" href="../Reinforcement-learning-temporal-difference-sarsa-q-learning-expected-sarsa-on-python/">強化学習 TD,Q学習, SARSA</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">2020駒澤大学心理学特講IIIA</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>付録 &raquo;</li>
        
      
    
    <li>Python の基礎</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <!--
---
author: Justin Johnson 著 (浅川伸一訳)\
    原典:<http://cs231n.github.io/python-numpy-tutorial/>
date: 'Oct.-29-2015閲覧'
title: 'Python, NumPyチュートリアル'
---
-->

<!--
本チュートリアルはジャスティン・ジョンソンによって書かれた。

本コースではPythonプログラミングを扱う。Pythonは万能プログラミング言語
であり，NumPy, SciPy, Matplotlibなどの普及しているライブラリのおかげで
科学技術計算に威力を発揮する。

Python と NumPy のプログラミング経験があれば，本稿は Python を科学技術計算
目的で使用する際の簡易入門コースとなるだろう。

Matlab の経験があれば[**numpy for Matlab users**]
<https://docs.scipy.org/doc/numpy-dev/user/numpy-for-matlab-users.html>
を参照されたい。
-->

<!---   [Python](#python)-->

<ul>
<li><a href="#python">Python</a><ul>
<li><a href="#python-basic">基本データ型</a></li>
<li><a href="#python-containers">コンテナ</a><ul>
<li><a href="#python-lists">リスト</a></li>
<li><a href="#python-dicts">辞書</a></li>
<li><a href="#python-sets">集合</a></li>
<li><a href="#python-tuples">タプル</a></li>
</ul>
</li>
<li><a href="#python-functions">関数</a></li>
<li><a href="#python-classes">クラス</a></li>
</ul>
</li>
<li><a href="#numpy">Numpy</a><ul>
<li><a href="#numpy-arrays">Arrays</a></li>
<li><a href="#numpy-array-indexing">Array indexing</a></li>
<li><a href="#numpy-datatypes">Datatypes</a></li>
<li><a href="#numpy-math">Array math</a></li>
<li><a href="#numpy-broadcasting">Broadcasting</a></li>
</ul>
</li>
<li><a href="#scipy">SciPy</a><ul>
<li><a href="#scipy-image">Image operations</a></li>
<li><a href="#scipy-matlab">MATLAB files</a></li>
<li><a href="#scipy-dist">Distance between points</a></li>
</ul>
</li>
<li><a href="#matplotlib">Matplotlib</a><ul>
<li><a href="#matplotlib-plotting">プロット</a></li>
<li><a href="#matplotlib-subplots">サブプロット</a></li>
<li><a href="#matplotlib-images">画像</a></li>
</ul>
</li>
</ul>
<h2 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h2>
<p>Python は高級言語であり動的マルチパラダイムのプログラミング言語である。
Python のコードは強力なアイデアを数行で表現できる擬似言語に喩えられる。
例えば古典的なクイックソートアルゴリズムは Python では以下のようになる:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">def</span> <span style="color: #008b45">quicksort</span>(arr):
    <span style="color: #8B008B; font-weight: bold">if</span> <span style="color: #658b00">len</span>(arr) &lt;= <span style="color: #B452CD">1</span>:
        <span style="color: #8B008B; font-weight: bold">return</span> arr
    pivot = arr[<span style="color: #658b00">int</span>(<span style="color: #658b00">len</span>(arr) / <span style="color: #B452CD">2</span>)]
    left = [x <span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> arr <span style="color: #8B008B; font-weight: bold">if</span> x &lt; pivot]
    middle = [x <span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> arr <span style="color: #8B008B; font-weight: bold">if</span> x == pivot]
    right = [x <span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> arr <span style="color: #8B008B; font-weight: bold">if</span> x &gt; pivot]
    <span style="color: #8B008B; font-weight: bold">return</span> quicksort(left) + middle + quicksort(right)

<span style="color: #658b00">print</span>(quicksort([<span style="color: #B452CD">3</span>,<span style="color: #B452CD">6</span>,<span style="color: #B452CD">8</span>,<span style="color: #B452CD">10</span>,<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">1</span>])) <span style="color: #228B22"># 印字( &quot;[1, 1, 2, 3, 6, 8, 10]&quot;)</span>
</code></pre></div>
</td></tr></table>

<h2 id="python_1">Python のバージョン<a class="headerlink" href="#python_1" title="Permanent link">&para;</a></h2>
<p>現在 Python は 2 種類のバージョンがサポートされている。2.7 系 と 3 系 である。
Python 3.0 以来，前方互換性が廃棄されて 2.7 系 と 3 系では互いに交換可能でない。
本稿全コード 2.7 で動作する。</p>
<p>Python のバージョンを調べるにはコマンドラインから <code>python –version</code> とするとチェックできる。</p>
<h3 id="_1">基本データ型<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>他の多くの言語と同じくPythonには<code>整数型</code>, <code>浮動小数点型</code>,
<code>ブール(真偽)型</code>, <code>文字列型</code>という基本データ型がある。
これらのデータ型は他のプログラミング言語と類似している。</p>
<h4 id="_2">数値<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<p>整数型と浮動小数点型は他言語と同様に動作する。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>x = <span style="color: #B452CD">3</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">type</span>(x)) <span style="color: #228B22"># 印字 &quot;&lt;type &#39;int&#39;&gt;&quot;</span>
<span style="color: #658b00">print</span>(x)       <span style="color: #228B22"># 印字&quot;3&quot;</span>
<span style="color: #658b00">print</span>(x + <span style="color: #B452CD">1</span>)   <span style="color: #228B22"># 加算; 印字 &quot;4&quot;</span>
<span style="color: #658b00">print</span>(x - <span style="color: #B452CD">1</span>)   <span style="color: #228B22"># 減算; 印字 &quot;2&quot;</span>
<span style="color: #658b00">print</span>(x * <span style="color: #B452CD">2</span>)   <span style="color: #228B22"># 乗算; 印字 &quot;6&quot;</span>
<span style="color: #658b00">print</span>(x ** <span style="color: #B452CD">2</span>)  <span style="color: #228B22"># 指数; 印字 &quot;9&quot;</span>
x += <span style="color: #B452CD">1</span>
<span style="color: #658b00">print</span>(x)       <span style="color: #228B22"># 印字 &quot;4&quot;</span>
x *= (<span style="color: #B452CD">2</span>)
<span style="color: #658b00">print</span>(x)       <span style="color: #228B22"># 印字 &quot;8&quot;</span>
y = <span style="color: #B452CD">2.5</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">type</span>(y)) <span style="color: #228B22"># 印字 &quot;&lt;type &#39;float&#39;&gt;&quot;</span>
<span style="color: #658b00">print</span>(y, y + <span style="color: #B452CD">1</span>, y * <span style="color: #B452CD">2</span>, y ** <span style="color: #B452CD">2</span>) <span style="color: #228B22"># 印字 &quot;2.5 3.5 5.0 6.25&quot;</span>
</code></pre></div>
</td></tr></table>

<p>他言語と異なりPythonには増分<code>x++</code>，減分<code>x–</code>を行う単項演算子は ない。</p>
<p>Pythonには倍精度整数，複素数型も標準実装されている。詳細は
<a href="https://docs.python.org/2/library/stdtypes.html#numeric-types-int-float-long-complex">https://docs.python.org/2/library/stdtypes.html#numeric-types-int-float-long-complex</a>に掲載されている。</p>
<p>ブール型(真偽型):  Pythonは2値論理演算用の記号([<code>&amp;&amp;</code>]
    [<code>||</code>], など)が用意されている。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>t = <span style="color: #8B008B; font-weight: bold">True</span>
f = <span style="color: #8B008B; font-weight: bold">False</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">type</span>(t)) <span style="color: #228B22"># 印字 &quot;&lt;type &#39;bool&#39;&gt;&quot;</span>
<span style="color: #658b00">print</span>(t <span style="color: #8B008B">and</span> f) <span style="color: #228B22"># 論理積 AND; 印字 &quot;False&quot;</span>
<span style="color: #658b00">print</span>(t <span style="color: #8B008B">or</span> f)  <span style="color: #228B22"># 論理和 OR; 印字 &quot;True&quot;</span>
<span style="color: #658b00">print</span>(<span style="color: #8B008B">not</span> t)   <span style="color: #228B22"># 論理否定 NOT; 印字 &quot;False&quot;</span>
<span style="color: #658b00">print</span>(t != f)  <span style="color: #228B22"># 排他的論理和 XOR; 印字 &quot;True&quot; </span>
</code></pre></div>
</td></tr></table>

<h4 id="_3">文字列<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>Pythonは文字列の扱いに優れる</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>hello = <span style="color: #CD5555">&#39;hello&#39;</span>              <span style="color: #228B22"># 文字列リテラルはシングルクォート</span>
world = <span style="color: #CD5555">&quot;world&quot;</span>              <span style="color: #228B22"># あるいはダブルクォート。両方可能</span>
<span style="color: #658b00">print</span>(hello)                 <span style="color: #228B22"># 印字 &quot;hello&quot;</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">len</span>(hello))            <span style="color: #228B22"># 文字列長の印字; 印字 &quot;5&quot;</span>
hw = hello + <span style="color: #CD5555">&#39; &#39;</span> + world     <span style="color: #228B22"># 文字列連結</span>
<span style="color: #658b00">print</span>(hw)                    <span style="color: #228B22"># 印字 &quot;hello world&quot;</span>
hw12 = <span style="color: #CD5555">&#39;%s %s %d&#39;</span> % (hello, world, <span style="color: #B452CD">12</span>)  <span style="color: #228B22"># sprintf 形式のフォーマット</span>
<span style="color: #658b00">print</span>(hw12)                  <span style="color: #228B22"># 印字 &quot;hello world 12&quot;</span>
</code></pre></div>
</td></tr></table>

<p>文字列オブジェクトは有益なメソッド群である。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>s = <span style="color: #CD5555">&quot;hello&quot;</span>
<span style="color: #658b00">print</span>(s.capitalize())      <span style="color: #228B22"># 文字列の語頭の大文字化; 印字 &quot;Hello&quot;</span>
<span style="color: #658b00">print</span>(s.upper())           <span style="color: #228B22"># 文字列の大文字化; 印字 &quot;HELLO&quot;</span>
<span style="color: #658b00">print</span>(s.rjust(<span style="color: #B452CD">7</span>))          <span style="color: #228B22"># 文字列の右寄せ, 空白で埋まる; 印字 &quot;  hello&quot;</span>
<span style="color: #658b00">print</span>(s.center(<span style="color: #B452CD">7</span>))         <span style="color: #228B22"># 文字列のセンタリング，空白で埋める; 印字 &quot; hello &quot;</span>
<span style="color: #658b00">print</span>(s.replace(<span style="color: #CD5555">&#39;l&#39;</span>, <span style="color: #CD5555">&#39;(ell)&#39;</span>))  <span style="color: #228B22"># 部分文字列の置換; 印字 &quot;he(ell)(ell)o&quot;</span>
<span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;  world &#39;</span>.strip())  <span style="color: #228B22"># 空白の除去; 印字 &quot;world&quot;</span>
</code></pre></div>
</td></tr></table>

<p>全文字列メソッドは <a href="https://docs.python.org/2/library/stdtypes.html#string-methods">https://docs.python.org/2/library/stdtypes.html#string-methods</a> に記載されている。</p>
<h3 id="_4">コンテナ<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>Python にはリスト，辞書，集合，タプルというコンテナが標準実装されている。</p>
<h4 id="_5">リスト<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p>リストは配列のPython実装であるが，サイズ可変，かつ，異なる要素を持つことが
できる。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>xs = [<span style="color: #B452CD">3</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>]      <span style="color: #228B22"># リストの作成</span>
<span style="color: #658b00">print</span>(xs, xs[<span style="color: #B452CD">2</span>])    <span style="color: #228B22"># 印字 &quot;[3, 1, 2] 2&quot;</span>
<span style="color: #658b00">print</span>(xs[-<span style="color: #B452CD">1</span>])       <span style="color: #228B22"># 負の指定子はリスト末端からの計数; 印字 &quot;2&quot;</span>
xs[<span style="color: #B452CD">2</span>] = <span style="color: #CD5555">&#39;foo&#39;</span>       <span style="color: #228B22"># リストには異なる要素を含むことができる</span>
<span style="color: #658b00">print</span>(xs)           <span style="color: #228B22"># 印字 &quot;[3, 1, &#39;foo&#39;]&quot;</span>
xs.append(<span style="color: #CD5555">&#39;bar&#39;</span>)    <span style="color: #228B22"># リスト末に新要素を追加</span>
<span style="color: #658b00">print</span>(xs)           <span style="color: #228B22"># 印字</span>
x = xs.pop()        <span style="color: #228B22"># リストの最終要素取り除きその値を返す</span>
<span style="color: #658b00">print</span>(x, xs)        <span style="color: #228B22"># 印字 &quot;bar [3, 1, &#39;foo&#39;]&quot;</span>
</code></pre></div>
</td></tr></table>

<p>上と同様に血みどろの全リストの詳細が <a href="https://docs.python.org/2/tutorial/datastructures.html#more-on-lists">https://docs.python.org/2/tutorial/datastructures.html#more-on-lists</a> に記載されている。</p>
<h4 id="_6">スライス:<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<p>Python には一旦リストにアクセスすれば，その下位リストへ簡便にアクセスする記法がある。これをスライスと呼ぶ。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>nums = <span style="color: #658b00">list</span>(<span style="color: #658b00">range</span>(<span style="color: #B452CD">5</span>)) <span style="color: #228B22"># range は組み込み関数で整数からなるリストを生成する</span>
<span style="color: #658b00">print</span>(nums)           <span style="color: #228B22"># 印字 &quot;[0, 1, 2, 3, 4]&quot;</span>
<span style="color: #658b00">print</span>(nums[<span style="color: #B452CD">2</span>:<span style="color: #B452CD">4</span>])      <span style="color: #228B22"># 2番目の要素から4番目未満のスライス; 印字 &quot;[2, 3]&quot;</span>
<span style="color: #658b00">print</span>(nums[<span style="color: #B452CD">2</span>:])       <span style="color: #228B22"># 2番目から最後までのスライス; 印字 &quot;[2, 3, 4]&quot;</span>
<span style="color: #658b00">print</span>(nums[:<span style="color: #B452CD">2</span>])       <span style="color: #228B22"># 先頭要素から指定子2までの要素をスライス; 印字 &quot;[0, 1]&quot;</span>
<span style="color: #658b00">print</span>(nums[:])        <span style="color: #228B22"># リスト全体のスライスを得る; 印字 &quot;[0, 1, 2, 3, 4]&quot;</span>
<span style="color: #658b00">print</span>(nums[:-<span style="color: #B452CD">1</span>])      <span style="color: #228B22"># スライス指定子には負値もとることができる; 印字 &quot;[0, 1, 2, 3]&quot;</span>
nums[<span style="color: #B452CD">2</span>:<span style="color: #B452CD">4</span>] = [<span style="color: #B452CD">8</span>, <span style="color: #B452CD">9</span>]    <span style="color: #228B22"># スライスして新しい値を割り当てる</span>
<span style="color: #658b00">print</span>(nums)           <span style="color: #228B22"># 印字 &quot;[0, 1, 8, 8, 4]&quot;</span>
</code></pre></div>
</td></tr></table>

<p>NumPyの配列の項においてスライシングについて再び触れることとする。</p>
<h4 id="_7">ループ:<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<p>以下のようにリストの要素を繰り返すことができる。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>animals = [<span style="color: #CD5555">&#39;cat&#39;</span>, <span style="color: #CD5555">&#39;dog&#39;</span>, <span style="color: #CD5555">&#39;monkey&#39;</span>]
<span style="color: #8B008B; font-weight: bold">for</span> animal <span style="color: #8B008B">in</span> animals:
    <span style="color: #658b00">print</span>(animal)
    <span style="color: #228B22"># 各行に印字 &quot;cat&quot;, &quot;dog&quot;, &quot;monkey&quot;</span>
</code></pre></div>
</td></tr></table>

<p>あるループ内で各要素のインデックスを参照したければ，繰り返し内部で組み込み
関数[<code>enumerate</code>]を使えば良い。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>animals = [<span style="color: #CD5555">&#39;cat&#39;</span>, <span style="color: #CD5555">&#39;dog&#39;</span>, <span style="color: #CD5555">&#39;monkey&#39;</span>]
<span style="color: #8B008B; font-weight: bold">for</span> idx, animal <span style="color: #8B008B">in</span> <span style="color: #658b00">enumerate</span>(animals):
    <span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;#%d: %s&#39;</span> % (idx + <span style="color: #B452CD">1</span>, animal))
    <span style="color: #228B22"># 印字行毎に &quot;#1: cat&quot;, &quot;#2: dog&quot;, &quot;#3: monkey&quot;</span>
</code></pre></div>
</td></tr></table>

<h4 id="_8">リスト内包表記:<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<p>プログラミングにおいてはある型のデータを別の型へ変換した
い場合が多い。自乗を計算するコードを以下に示す:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>nums = [<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>, <span style="color: #B452CD">3</span>, <span style="color: #B452CD">4</span>]
squares = []
<span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> nums:
    squares.append(x ** <span style="color: #B452CD">2</span>)
<span style="color: #658b00">print</span>(squares)   <span style="color: #228B22"># 印字 [0, 1, 4, 9, 16]</span>
</code></pre></div>
</td></tr></table>

<p><strong>リスト内包表記</strong> を使えばより簡単なコードが書ける:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>nums = [<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>, <span style="color: #B452CD">3</span>, <span style="color: #B452CD">4</span>]
squares = [x ** <span style="color: #B452CD">2</span> <span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> nums]
<span style="color: #658b00">print</span>(squares)   <span style="color: #228B22"># 印字 [0, 1, 4, 9, 16]</span>
</code></pre></div>
</td></tr></table>

<h4 id="_9">辞書:<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<p>Java の Map や Javascript のオブジェクトと同様，辞書とは，キー値とペア値を 集めたものである。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>d = {<span style="color: #CD5555">&#39;cat&#39;</span>: <span style="color: #CD5555">&#39;cute&#39;</span>, <span style="color: #CD5555">&#39;dog&#39;</span>: <span style="color: #CD5555">&#39;furry&#39;</span>}  <span style="color: #228B22"># データから辞書を作成</span>
<span style="color: #658b00">print</span>(d[<span style="color: #CD5555">&#39;cat&#39;</span>])           <span style="color: #228B22"># 辞書の項目から内容を表示; 印字 &quot;cute&quot;</span>
<span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;cat&#39;</span> <span style="color: #8B008B">in</span> d)         <span style="color: #228B22"># 辞書内を検索しキーの存在を返す; 印字 &quot;True&quot;</span>
d[<span style="color: #CD5555">&#39;fish&#39;</span>] = <span style="color: #CD5555">&#39;wet&#39;</span>         <span style="color: #228B22"># 新項目を追加</span>
<span style="color: #658b00">print</span>(d[<span style="color: #CD5555">&#39;fish&#39;</span>])          <span style="color: #228B22"># 印字 &quot;wet&quot;</span>
<span style="color: #228B22"># print(d[&#39;monkey&#39;])      # 辞書 d からキー&#39;monkey&#39;を検索。存在しないとキーエラー</span>
<span style="color: #658b00">print</span>(d.get(<span style="color: #CD5555">&#39;monkey&#39;</span>, <span style="color: #CD5555">&#39;N/A&#39;</span>))  <span style="color: #228B22"># 辞書の検索デフォルト値付き; 印字 &quot;N/A&quot;</span>
<span style="color: #658b00">print</span>(d.get(<span style="color: #CD5555">&#39;fish&#39;</span>, <span style="color: #CD5555">&#39;N/A&#39;</span>))    <span style="color: #228B22"># 辞書の検索デフォルト値付き; 印字 &quot;wet&quot;</span>
<span style="color: #8B008B; font-weight: bold">del</span>(d[<span style="color: #CD5555">&#39;fish&#39;</span>])                 <span style="color: #228B22"># 辞書内の項目を削除</span>
<span style="color: #658b00">print</span>(d.get(<span style="color: #CD5555">&#39;fish&#39;</span>, <span style="color: #CD5555">&#39;N/A&#39;</span>))    <span style="color: #228B22"># &quot;fish&quot; は辞書にないので &quot;N/A&quot;</span>
</code></pre></div>
</td></tr></table>

<p>辞書についてもウェブ上に文書が掲載されている。</p>
<h4 id="_10">ループ:<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<p>辞書のキーを繰り返す簡便法がループである:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>d = {<span style="color: #CD5555">&#39;person&#39;</span>: <span style="color: #B452CD">2</span>, <span style="color: #CD5555">&#39;cat&#39;</span>: <span style="color: #B452CD">4</span>, <span style="color: #CD5555">&#39;spider&#39;</span>: <span style="color: #B452CD">8</span>}
<span style="color: #8B008B; font-weight: bold">for</span> animal <span style="color: #8B008B">in</span> d:
    legs = d[animal]
    <span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;A %s has %d legs&#39;</span> % (animal, legs))
    <span style="color: #228B22"># 印字 &quot;A person has 2 legs&quot;, &quot;A spider has 8 legs&quot;, &quot;A cat has 4 legs&quot;</span>
</code></pre></div>
</td></tr></table>

<p>辞書の各項目に対応する値を取り出すには <code>iteritems</code> メソッドを用いる:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>d = {<span style="color: #CD5555">&#39;person&#39;</span>: <span style="color: #B452CD">2</span>, <span style="color: #CD5555">&#39;cat&#39;</span>: <span style="color: #B452CD">4</span>, <span style="color: #CD5555">&#39;spider&#39;</span>: <span style="color: #B452CD">8</span>}
<span style="color: #8B008B; font-weight: bold">for</span> animal, legs <span style="color: #8B008B">in</span> d.items():
    <span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;A %s has %d legs&#39;</span> % (animal, legs))
    <span style="color: #228B22"># 印字 &quot;A person has 2 legs&quot;, &quot;A spider has 8 legs&quot;, &quot;A cat has 4 legs&quot;</span>
</code></pre></div>
</td></tr></table>

<h4 id="_11">辞書内包表記:<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<p>リスト内包表記と同様，辞書内包表記にも簡便な方法が存在する。以下の例のとおり:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>nums = [<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>, <span style="color: #B452CD">3</span>, <span style="color: #B452CD">4</span>]
even_num_to_square = {x: x ** <span style="color: #B452CD">2</span> <span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> nums <span style="color: #8B008B; font-weight: bold">if</span> x % <span style="color: #B452CD">2</span> == <span style="color: #B452CD">0</span>}
<span style="color: #658b00">print</span>(even_num_to_square)  <span style="color: #228B22"># 印字 &quot;{0: 0, 2: 4, 4: 16}&quot;</span>
</code></pre></div>
</td></tr></table>

<h4 id="_12">集合:<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p>集合とは異なる要素を持つ順番を持たないデータの集まりである。以下の例を参照:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>animals = {<span style="color: #CD5555">&#39;cat&#39;</span>, <span style="color: #CD5555">&#39;dog&#39;</span>}
<span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;cat&#39;</span> <span style="color: #8B008B">in</span> animals)   <span style="color: #228B22"># 集合内の要素の存在の有無のチェック; 印字 &quot;True&quot;</span>
<span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;fish&#39;</span> <span style="color: #8B008B">in</span> animals)  <span style="color: #228B22"># 印字 &quot;False&quot;</span>
animals.add(<span style="color: #CD5555">&#39;fish&#39;</span>)       <span style="color: #228B22"># 集合に要素を追加</span>
<span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;fish&#39;</span> <span style="color: #8B008B">in</span> animals)  <span style="color: #228B22"># 印字 &quot;True&quot;</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">len</span>(animals))       <span style="color: #228B22"># 集合の要素数を返す; 印字 &quot;3&quot;</span>
animals.add(<span style="color: #CD5555">&#39;cat&#39;</span>)        <span style="color: #228B22"># 集合に既存の要素を加えても何も起きない</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">len</span>(animals))       <span style="color: #228B22"># 印字 &quot;3&quot;</span>
animals.remove(<span style="color: #CD5555">&#39;cat&#39;</span>)     <span style="color: #228B22"># 集合から要素を削除</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">len</span>(animals))       <span style="color: #228B22"># 印字 &quot;2&quot;</span>
</code></pre></div>
</td></tr></table>

<p>今までと同じく，集合の全てについて記述した文書が上梓されている。</p>
<h4 id="_13">繰り返し:<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<p>集合における繰り返しもリストに対する繰り返しと同じ記法である。
しかし集合には順序がないので，集合内の各要素について順番を仮定してはならない:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>animals = {<span style="color: #CD5555">&#39;cat&#39;</span>, <span style="color: #CD5555">&#39;dog&#39;</span>, <span style="color: #CD5555">&#39;fish&#39;</span>}
<span style="color: #8B008B; font-weight: bold">for</span> idx, animal <span style="color: #8B008B">in</span> <span style="color: #658b00">enumerate</span>(animals):
    <span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;#%d: %s&#39;</span> % (idx + <span style="color: #B452CD">1</span>, animal))
    <span style="color: #228B22"># 印字 &quot;#1: fish&quot;, &quot;#2: dog&quot;, &quot;#3: cat&quot;</span>
</code></pre></div>
</td></tr></table>

<h4 id="_14">集合内包表記:<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>リストや辞書と同様，集合内包にも簡易記法が存在する:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">from</span> <span style="color: #008b45; text-decoration: underline">math</span> <span style="color: #8B008B; font-weight: bold">import</span> sqrt
nums = {<span style="color: #658b00">int</span>(sqrt(x)) <span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> <span style="color: #658b00">range</span>(<span style="color: #B452CD">30</span>)}
<span style="color: #658b00">print</span>(nums)  <span style="color: #228B22"># 印字 &quot;set([0, 1, 2, 3, 4, 5])&quot;</span>
</code></pre></div>
</td></tr></table>

<h4 id="_15">タプル:<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<p>タプルとは値の順序の変更が不能な順序付きリストである。タプルはリストに類似
しているが，辞書のキーとして集合を要素として持つことが可能である。リストに
はこの特徴は無い。簡単な例を示す:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>d = {(x, x + <span style="color: #B452CD">1</span>): x <span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> <span style="color: #658b00">range</span>(<span style="color: #B452CD">10</span>)} <span style="color: #228B22"># タプルキーを持つ辞書の生成</span>
t = (<span style="color: #B452CD">5</span>, <span style="color: #B452CD">6</span>)        <span style="color: #228B22"># タプルの生成</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">type</span>(t))    <span style="color: #228B22"># 印字 &quot;&lt;type &#39;tuple&#39;&gt;&quot;</span>
<span style="color: #658b00">print</span>(d[t])       <span style="color: #228B22"># 印字 &quot;5&quot;</span>
<span style="color: #658b00">print</span>(d[(<span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>)])  <span style="color: #228B22"># 印字 &quot;1&quot;</span>
</code></pre></div>
</td></tr></table>

<p><a href="https://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences">https://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences</a>
には更に詳しい情報が記載されている。</p>
<h3 id="_16">関数<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>Python の関数はキーワード <code>def</code> を用いて定義される。以下の例:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">def</span> <span style="color: #008b45">sign</span>(x):
    <span style="color: #8B008B; font-weight: bold">if</span> x &gt; <span style="color: #B452CD">0</span>:
        <span style="color: #8B008B; font-weight: bold">return</span> <span style="color: #CD5555">&#39;positive&#39;</span>
    <span style="color: #8B008B; font-weight: bold">elif</span> x &lt; <span style="color: #B452CD">0</span>:
        <span style="color: #8B008B; font-weight: bold">return</span> <span style="color: #CD5555">&#39;negative&#39;</span>
    <span style="color: #8B008B; font-weight: bold">else</span>:
        <span style="color: #8B008B; font-weight: bold">return</span> <span style="color: #CD5555">&#39;zero&#39;</span>

<span style="color: #8B008B; font-weight: bold">for</span> x <span style="color: #8B008B">in</span> [-<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>]:
    <span style="color: #658b00">print</span>(sign(x))
<span style="color: #228B22"># 印字 &quot;negative&quot;, &quot;zero&quot;, &quot;positive&quot;</span>
</code></pre></div>
</td></tr></table>

<p>関数は以下のようにオプションキーワード付きで定義可能である:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code>def hello(name, loud=<span style="color: #8B008B; font-weight: bold">False</span>):
    <span style="color: #8B008B; font-weight: bold">if</span> loud:
        print(<span style="color: #CD5555">&#39;HELLO, %s&#39;</span> % name.<span style="color: #8B008B; font-weight: bold">upper</span>())
    <span style="color: #8B008B; font-weight: bold">else</span>:
        print( <span style="color: #CD5555">&#39;Hello, %s!&#39;</span> % name)

hello(<span style="color: #CD5555">&#39;Bob&#39;</span>)              # <span style="color: #a61717; background-color: #e3d2d2">印字</span> <span style="color: #CD5555">&quot;Hello, Bob&quot;</span>
hello(<span style="color: #CD5555">&#39;Fred&#39;</span>, loud=<span style="color: #8B008B; font-weight: bold">True</span>)  # <span style="color: #a61717; background-color: #e3d2d2">印字</span> <span style="color: #CD5555">&quot;HELLO, FRED!&quot;</span>
</code></pre></div>
</td></tr></table>

<p>Python のクラス情報は <a href="https://docs.python.org/2/tutorial/controlflow.html#defining-functions">https://docs.python.org/2/tutorial/controlflow.html#defining-functions</a>を参照のこと</p>
<h3 id="_17">クラス<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>Pythonにおけるクラス定義の記法は直截的である。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">class</span> <span style="color: #008b45; font-weight: bold">Greeter</span>:

    <span style="color: #228B22"># Constructor</span>
    <span style="color: #8B008B; font-weight: bold">def</span> <span style="color: #008b45">__init__</span>(<span style="color: #658b00">self</span>, name):
        <span style="color: #658b00">self</span>.name = name  <span style="color: #228B22"># インスタンスの生成</span>

    <span style="color: #228B22"># Instance method</span>
    <span style="color: #8B008B; font-weight: bold">def</span> <span style="color: #008b45">greet</span>(<span style="color: #658b00">self</span>, loud=<span style="color: #8B008B; font-weight: bold">False</span>):
        <span style="color: #8B008B; font-weight: bold">if</span> loud:
            <span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;HELLO, %s!&#39;</span> % <span style="color: #658b00">self</span>.name.upper())
        <span style="color: #8B008B; font-weight: bold">else</span>:
            <span style="color: #658b00">print</span>(<span style="color: #CD5555">&#39;Hello, %s&#39;</span> % <span style="color: #658b00">self</span>.name)

g = Greeter(<span style="color: #CD5555">&#39;Fred&#39;</span>)  <span style="color: #228B22"># Greeter クラスのインスタンスを生成</span>
g.greet()            <span style="color: #228B22"># インスタンスメソッドの呼び出し; 印字 &quot;Hello, Fred&quot;</span>
g.greet(loud=<span style="color: #8B008B; font-weight: bold">True</span>)   <span style="color: #228B22"># インスタンスメソッドの呼び出し; 印字 &quot;HELLO, FRED!&quot;</span>
</code></pre></div>
</td></tr></table>

<p>クラスについての詳細は以下である
<a href="https://docs.python.org/2/tutorial/classes.html">https://docs.python.org/2/tutorial/classes.html</a></p>
<h2 id="numpy">NumPy<a class="headerlink" href="#numpy" title="Permanent link">&para;</a></h2>
<p>NumPyはPythonにおける科学技術計算の核となるライブラリである。高性能多次元配列オブジェクトと配列処理用ツールから構成されている。MATLAB
が既知ならば，本チュートリアルからNumPyを始めるのが良いだろう。</p>
<h3 id="_18">配列<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>NumPyの配列は値の格子状配置である。全要素の値は同じデータ型であり，非負整数のタプルで指定可能である。</p>
<p>Pythonにおける配列は入れ子になったリストであり，カギカッコを用いる。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

a = np.array([<span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>, <span style="color: #B452CD">3</span>])           <span style="color: #228B22"># 次元数 1 の配列の作成</span>
<span style="color: #658b00">print</span>(<span style="color: #658b00">type</span>(a))                     <span style="color: #228B22"># 印字 &quot;&lt;type &#39;numpy.ndarray&#39;&gt;&quot;</span>
<span style="color: #658b00">print</span>(a.shape)                    <span style="color: #228B22"># 印字 &quot;(3,)&quot;</span>
<span style="color: #658b00">print</span>(a[<span style="color: #B452CD">0</span>], a[<span style="color: #B452CD">1</span>], a[<span style="color: #B452CD">2</span>])           <span style="color: #228B22"># 印字 &quot;1 2 3&quot;</span>
a[<span style="color: #B452CD">0</span>] = <span style="color: #B452CD">5</span>                          <span style="color: #228B22"># 配列の要素を一つ変更</span>
<span style="color: #658b00">print</span>(a)                          <span style="color: #228B22"># 印字 &quot;[5, 2, 3]&quot;</span>

b = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>],[<span style="color: #B452CD">4</span>,<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>]])   <span style="color: #228B22"># 次元数が 2 の配列の作成</span>
<span style="color: #658b00">print</span>(b.shape)                     <span style="color: #228B22"># 印字 &quot;(2, 3)&quot;</span>
<span style="color: #658b00">print</span>(b[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">0</span>], b[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>], b[<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0</span>])   <span style="color: #228B22"># 印字 &quot;1 2 4&quot;</span>
</code></pre></div>
</td></tr></table>

<p>NumPy には配列を生成する関数が用意されている:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

a = np.zeros((<span style="color: #B452CD">2</span>,<span style="color: #B452CD">2</span>))   <span style="color: #228B22"># 全要素がゼロの配列の作成</span>
<span style="color: #658b00">print</span>(a)              <span style="color: #228B22"># 印字 &quot;[[ 0.  0.]</span>
                      <span style="color: #228B22">#        [ 0.  0.]]&quot;</span>

b = np.ones((<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>))    <span style="color: #228B22"># 全要素がゼロの配列の作成</span>
<span style="color: #658b00">print</span>(b)              <span style="color: #228B22"># 印字 &quot;[[ 1.  1.]]&quot;</span>

c = np.full((<span style="color: #B452CD">2</span>,<span style="color: #B452CD">2</span>), <span style="color: #B452CD">7</span>) <span style="color: #228B22"># 定数行列を作成</span>
<span style="color: #658b00">print</span>(c)              <span style="color: #228B22"># 印字 &quot;[[ 7.  7.]</span>
                      <span style="color: #228B22">#        [ 7.  7.]]&quot;</span>

d = np.eye(<span style="color: #B452CD">2</span>)         <span style="color: #228B22"># 2x2 の単位行列の作成</span>
<span style="color: #658b00">print</span>(d)              <span style="color: #228B22"># 印字 &quot;[[ 1.  0.]</span>
                      <span style="color: #228B22">#        [ 0.  1.]]&quot;</span>

e = np.random.random((<span style="color: #B452CD">2</span>,<span style="color: #B452CD">2</span>)) <span style="color: #228B22"># 乱数で初期化した配列の作成</span>
<span style="color: #658b00">print</span>(e)                    <span style="color: #228B22"># 印字例 &quot;[[ 0.91940167  0.08143941]</span>
                            <span style="color: #228B22">#          [ 0.68744134  0.87236687]]&quot;</span>
</code></pre></div>
</td></tr></table>

<p>配列を作成する他の方法は<a href="http://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation">http://docs.scipy.org/doc/numpy/user/basics.creation.html#arrays-creation</a>で読むことができる。</p>
<h3 id="_19">配列指定<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>NumPy には指定子を配列化する方法が複数存在する。</p>
<h3 id="_20">スライス:<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>Pythonにおけるリストと同様，NumPyの配列にはスライス
が適用可能である。配列の各次元毎にスライスを指定可能である。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

<span style="color: #228B22"># 3行4列で階数が2の行列の作成</span>
<span style="color: #228B22"># [[ 1  2  3  4]</span>
<span style="color: #228B22">#  [ 5  6  7  8]</span>
<span style="color: #228B22">#  [ 9 10 11 12]]</span>
a = np.<span style="color: #8B008B; font-weight: bold">array</span>([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>,<span style="color: #B452CD">4</span>], [<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>,<span style="color: #B452CD">7</span>,<span style="color: #B452CD">8</span>], [<span style="color: #B452CD">9</span>,<span style="color: #B452CD">10</span>,<span style="color: #B452CD">11</span>,<span style="color: #B452CD">12</span>]])

<span style="color: #228B22"># 下位行列のスライスし，上2行の1列目2列目を用いて2行2列の行列を作成</span>
<span style="color: #228B22"># [[2 3]</span>
<span style="color: #228B22">#  [6 7]]</span>
b = a[:<span style="color: #B452CD">2</span>, <span style="color: #B452CD">1</span>:<span style="color: #B452CD">3</span>]

<span style="color: #228B22"># スライスは元行列への参照なので，スライスへの変更は元データに影響を及ぼす</span>
<span style="color: #658b00">print</span>(a[<span style="color: #B452CD">0</span>,<span style="color: #B452CD">1</span>])   <span style="color: #228B22"># 印字 &quot;2&quot;</span>
b[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">0</span>] = <span style="color: #B452CD">77</span>    <span style="color: #228B22"># b[0, 0] は a[0, 1] と等価</span>
<span style="color: #658b00">print</span>(a[<span style="color: #B452CD">0</span>,<span style="color: #B452CD">1</span>])   <span style="color: #228B22"># 印字 &quot;77&quot;</span>
</code></pre></div>
</td></tr></table>

<p>整数指定子とスライス指定子を混在させることができる。
しかし，そうすると元行列よりも次元の低い行列を作成することになる。
MATLAB における行列スライスとは異なることに注意せよ。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

<span style="color: #228B22"># 3行4列の2次の行列を作成</span>
<span style="color: #228B22"># [[ 1  2  3  5]</span>
<span style="color: #228B22">#  [ 4  6  7  8]</span>
<span style="color: #228B22">#  [ 9 10 11 12]]</span>
a = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>,<span style="color: #B452CD">4</span>], [<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>,<span style="color: #B452CD">7</span>,<span style="color: #B452CD">8</span>], [<span style="color: #B452CD">9</span>,<span style="color: #B452CD">10</span>,<span style="color: #B452CD">11</span>,<span style="color: #B452CD">12</span>]])

<span style="color: #228B22"># 行列の中央行へのアクセス2種類</span>
<span style="color: #228B22"># スライスと整数の混在は階数の低下をもたらす</span>
<span style="color: #228B22"># 一方，スライスのみを使用した場合には原行列の次元低減は発生しない</span>
row_r1 = a[<span style="color: #B452CD">1</span>, :]    <span style="color: #228B22"># 行列 a の 2 行目の全列表示</span>
row_r2 = a[<span style="color: #B452CD">1</span>:<span style="color: #B452CD">2</span>, :]  <span style="color: #228B22"># 行列 a の 2 行目の全列表示</span>
<span style="color: #658b00">print</span>(row_r1, row_r1.shape)  <span style="color: #228B22"># 印字 &quot;[5 6 7 8] (4,)&quot;</span>
<span style="color: #658b00">print</span>(row_r2, row_r2.shape)  <span style="color: #228B22"># 印字 &quot;[[5 6 7 8]] (1, 4)&quot;</span>

<span style="color: #228B22"># 行列に対する列への操作も同様</span>
col_r1 = a[:, <span style="color: #B452CD">1</span>]
col_r2 = a[:, <span style="color: #B452CD">1</span>:<span style="color: #B452CD">2</span>]
<span style="color: #658b00">print</span>(col_r1, col_r1.shape)  <span style="color: #228B22"># 印字 &quot;[ 2  6 10] (3,)&quot;</span>
<span style="color: #658b00">print</span>(col_r2, col_r2.shape)  <span style="color: #228B22"># 印字 &quot;[[ 2]</span>
                             <span style="color: #228B22">#        [ 6]</span>
                             <span style="color: #228B22">#        [10]] (3, 1)&quot;</span>
</code></pre></div>
</td></tr></table>

<h4 id="_21">整数型配列指定子:<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h4>
<p>NumPyの配列に対してスライスを実行すると，結果は元行列の下位配列となる。
これに対して，整数型変数からなる配列に対してスライスを実行すれば，
新たな配列が構成される。以下のとおり:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

a = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>], [<span style="color: #B452CD">3</span>, <span style="color: #B452CD">4</span>], [<span style="color: #B452CD">5</span>, <span style="color: #B452CD">6</span>]])

<span style="color: #228B22"># 整数型配列の例 戻り値の配列の shape は (3,)</span>
<span style="color: #658b00">print</span>(a[[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>], [<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">0</span>]])  <span style="color: #228B22"># 印字 &quot;[1 4 5]&quot;</span>

<span style="color: #228B22"># 上例は整数型配列を指定子とした場合と等しい:</span>
<span style="color: #658b00">print</span>(np.array([a[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">0</span>], a[<span style="color: #B452CD">1</span>, <span style="color: #B452CD">1</span>], a[<span style="color: #B452CD">2</span>, <span style="color: #B452CD">0</span>]]))  <span style="color: #228B22"># 印字 &quot;[1 4 5]&quot;</span>

<span style="color: #228B22"># 整数型配列を指定子として用いると元配列と同じ要素を再利用できる</span>
<span style="color: #658b00">print</span>(a[[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">0</span>], [<span style="color: #B452CD">1</span>, <span style="color: #B452CD">1</span>]])  <span style="color: #228B22"># 印字 &quot;[2 2]&quot;</span>

<span style="color: #228B22"># 先の整数型の配列指定子に等しい</span>
<span style="color: #658b00">print</span>(np.array([a[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>], a[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>]])) <span style="color: #228B22"># 印字 &quot;[2 2]&quot;</span>
<span style="color: #658b00">print</span>(np.array([a[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>], a[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>]]))  <span style="color: #228B22"># 印字 &quot;[2 2]&quot;</span>
</code></pre></div>
</td></tr></table>

<h4 id="_22">ブーリアン配列指定子:<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h4>
<p>ール(2値)型配列指定子は配列の任意の要素を取り
出すことが可能である。この指定子により配列から任意の条件を満たす要素からな
る配列を作成することが可能である。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

a = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>], [<span style="color: #B452CD">3</span>, <span style="color: #B452CD">4</span>], [<span style="color: #B452CD">5</span>, <span style="color: #B452CD">6</span>]])
bool_idx = (a &gt; <span style="color: #B452CD">2</span>)  <span style="color: #228B22"># 2　より大きい配列の要素を探す</span>
                    <span style="color: #228B22"># これにより numpy の配列と等しい shape でブール型の</span>
                    <span style="color: #228B22"># 配列を返す。bool_idx は a の各要素が 2 より大きい</span>
                    <span style="color: #228B22"># か否かを示す</span>
<span style="color: #658b00">print</span>(bool_idx)     <span style="color: #228B22"># 印字 &quot;[[False False]</span>
                    <span style="color: #228B22">#        [ True  True]</span>
                    <span style="color: #228B22">#        [ True  True]]&quot;</span>

<span style="color: #228B22"># ブール型配列指定子を用いて階数1の行列を作ることができる</span>
<span style="color: #228B22"># bool_idx の True に対応する要素で構成される行列である</span>
<span style="color: #658b00">print</span>(a[bool_idx])  <span style="color: #228B22"># 印字 &quot;[3 4 5 6]&quot;</span>

<span style="color: #228B22"># 上例を簡潔に表記可能である</span>
<span style="color: #658b00">print</span>(a[a &gt; <span style="color: #B452CD">2</span>])     <span style="color: #228B22"># 印字 &quot;[3 4 5 6]&quot;</span>
</code></pre></div>
</td></tr></table>

<p>本稿の簡潔性ゆえNumPyの配列指定子の詳細については多くを記載していない。
詳細は文献を参照のこと。</p>
<h3 id="_23">データ型<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>NumPy の配列は同じ型の要素からなるグリッドである。
配列作成には一連のデータ型を利用可能である。
NumPyは配列のデータ型が何であるかを類推しようとする。
以下のようにオプション引数により明示的に配列のデータ型を指定することも可能である:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

x = np.array([<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>])        <span style="color: #228B22"># numpy にデータ型を選択させる</span>
<span style="color: #658b00">print</span>(x.dtype)             <span style="color: #228B22"># 印字 &quot;int64&quot;</span>

x = np.array([<span style="color: #B452CD">1.0</span>, <span style="color: #B452CD">2.0</span>])   <span style="color: #228B22"># numpy にデータ型を選択させる</span>
<span style="color: #658b00">print</span>(x.dtype)             <span style="color: #228B22"># 印字 &quot;float64&quot;</span>

x = np.array([<span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>], dtype=np.int64)  <span style="color: #228B22"># データ型の強制指定</span>
<span style="color: #658b00">print</span>(x.dtype)             <span style="color: #228B22"># 印字 &quot;int64&quot;</span>
</code></pre></div>
</td></tr></table>

<p>NumPy の全データ型については<a href="http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html">http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html</a>を参照のこと。</p>
<h3 id="_24">数学的配列<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<p>基本的数学関数の操作は配列の要素毎の演算である。
NumPy モジュールの関数として演算子を上書き可能である．</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

x = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>],[<span style="color: #B452CD">3</span>,<span style="color: #B452CD">4</span>]], dtype=np.float64)
y = np.array([[<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>],[<span style="color: #B452CD">7</span>,<span style="color: #B452CD">8</span>]], dtype=np.float64)

<span style="color: #228B22"># 対応する要素の和，両例とも同じ結果を得る</span>
<span style="color: #228B22"># [[ 6.0  8.0]</span>
<span style="color: #228B22">#  [10.0 12.0]]</span>
<span style="color: #658b00">print</span>(x + y)
<span style="color: #658b00">print</span>(np.add(x, y))

<span style="color: #228B22"># 対応する要素の差，両例とも同じ結果を得る</span>
<span style="color: #228B22"># [[-4.0 -4.0]</span>
<span style="color: #228B22">#  [-4.0 -4.0]]</span>
<span style="color: #658b00">print</span>(x - y)
<span style="color: #658b00">print</span>(np.subtract(x, y))

<span style="color: #228B22"># 対応する要素の積，両例とも同じ結果を得る</span>
<span style="color: #228B22"># [[ 5.0 12.0]</span>
<span style="color: #228B22">#  [21.0 32.0]]</span>
<span style="color: #658b00">print</span>(x * y)
<span style="color: #658b00">print</span>(np.multiply(x, y))

<span style="color: #228B22"># 対応する要素の徐，両例とも同じ結果を得る</span>
<span style="color: #228B22"># [[ 0.2         0.33333333]</span>
<span style="color: #228B22">#  [ 0.42857143  0.5       ]]</span>
<span style="color: #658b00">print</span>(x / y)
<span style="color: #658b00">print</span>(np.divide(x, y))

<span style="color: #228B22"># 各要素の平方根</span>
<span style="color: #228B22"># [[ 1.          1.41421356]</span>
<span style="color: #228B22">#  [ 1.73205081  2.        ]]</span>
<span style="color: #658b00">print</span>(np.sqrt(x))
</code></pre></div>
</td></tr></table>

<p>MATLAB と異なり，[<code>*</code>]
は要素毎の積であり，行列の積ではない。
ベクトルの内積，ベクトルと行列の積，行列の積には[<code>dot</code>]を用いる。
[<code>dot</code>]は NumPy モジュールと配列オブジェクトのメソッドインスタンスに
適用可能である。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

x = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>],[<span style="color: #B452CD">3</span>,<span style="color: #B452CD">4</span>]])
y = np.array([[<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>],[<span style="color: #B452CD">7</span>,<span style="color: #B452CD">8</span>]])

v = np.array([<span style="color: #B452CD">9</span>,<span style="color: #B452CD">10</span>])
w = np.array([<span style="color: #B452CD">11</span>, <span style="color: #B452CD">12</span>])

<span style="color: #228B22"># ベクトルの内積両者とも同じく 219 を得る</span>
<span style="color: #658b00">print</span>(v.dot(w))
<span style="color: #658b00">print</span>(np.dot(v, w))

<span style="color: #228B22"># 行列とベクトルの積。両者とも同じく [29 67] を得る</span>
<span style="color: #658b00">print</span>(x.dot(v))
<span style="color: #658b00">print</span>(np.dot(x, v))

<span style="color: #228B22"># 行列と行列の積。両者とも同じく以下の行列を得る</span>
<span style="color: #228B22"># [[19 22]</span>
<span style="color: #228B22">#  [43 50]]</span>
<span style="color: #658b00">print</span>(x.dot(y))
<span style="color: #658b00">print</span>(np.dot(x, y))
</code></pre></div>
</td></tr></table>

<p>NumPy は行列操作遂行に有役な関数を数多く提供している。[<code>sum</code>]
など</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

x = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>],[<span style="color: #B452CD">3</span>,<span style="color: #B452CD">4</span>]])

<span style="color: #658b00">print</span>(np.sum(x))          <span style="color: #228B22"># 総和を計算 10と印字</span>
<span style="color: #658b00">print</span>(np.sum(x, axis=<span style="color: #B452CD">0</span>))  <span style="color: #228B22"># 各列の総和を計算: &quot;[4 6]&quot; と印字</span>
<span style="color: #658b00">print</span>(np.sum(x, axis=<span style="color: #B452CD">1</span>))  <span style="color: #228B22"># 各行の総和を計算: &quot;[3 7]&quot; と印字</span>
</code></pre></div>
</td></tr></table>

<p>NumPyの全数学関数リストは
<a href="http://docs.scipy.org/doc/numpy/reference/routines.math.html">http://docs.scipy.org/doc/numpy/reference/routines.math.html</a>から入手可
能である。</p>
<p>配列を用いた数学関数の計算だけでなく，配列の reshae
や他のデータ操作が多数必
要となる。単純な例は行列の転置である。行列の転置には配列オブジェクトの
[<code>T</code>] を使えばよい。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

x = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>], [<span style="color: #B452CD">3</span>,<span style="color: #B452CD">4</span>]])
<span style="color: #658b00">print</span>(x)    <span style="color: #228B22"># 印字 &quot;[[1 2]</span>
            <span style="color: #228B22">#        [3 4]]&quot;</span>
<span style="color: #658b00">print</span>(x.T)  <span style="color: #228B22"># 印字 &quot;[[1 3]</span>
            <span style="color: #228B22">#        [2 4]]&quot;</span>

<span style="color: #228B22"># 階数1の行列を転置してもなにも変わらないことに注意</span>
v = np.array([<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>])
<span style="color: #658b00">print</span>(v)    <span style="color: #228B22"># 印字 &quot;[1 2 3]&quot;</span>
<span style="color: #658b00">print</span>(v.T)  <span style="color: #228B22"># 印字 &quot;[1 2 3]&quot;</span>
</code></pre></div>
</td></tr></table>

<p>NumPy は配列操作関数が多い。<a href="http://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html">http://docs.scipy.org/doc/numpy/reference/routines.array-manipulation.html</a>を参照されたい。</p>
<h3 id="_25">ブロードキャスト<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<p>ブロードキャストは算術的操作を行う際、NumPyが異なる shape
の配列に強力な処 理機構を行うことを可能にする。</p>
<p>行列の各行に対して定数ベクトルを加える場合を以下に示す:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

<span style="color: #228B22"># 行列 x の各行に対してベクトル v を加え結果を y に格納</span>
x = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>], [<span style="color: #B452CD">4</span>,<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>], [<span style="color: #B452CD">7</span>,<span style="color: #B452CD">8</span>,<span style="color: #B452CD">9</span>], [<span style="color: #B452CD">10</span>, <span style="color: #B452CD">11</span>, <span style="color: #B452CD">12</span>]])
v = np.array([<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>])
y = np.empty_like(x)   <span style="color: #228B22"># x と同じ shape を持つ空行列を生成</span>

<span style="color: #228B22"># 明示的繰り返しを用いて行列 x の各行にベクトル v の要素を加算</span>
<span style="color: #8B008B; font-weight: bold">for</span> i <span style="color: #8B008B">in</span> <span style="color: #658b00">range</span>(<span style="color: #B452CD">4</span>):
    y[i, :] = x[i, :] + v

<span style="color: #228B22"># y は以下のようになる</span>
<span style="color: #228B22"># [[ 2  2  4]</span>
<span style="color: #228B22">#  [ 5  5  7]</span>
<span style="color: #228B22">#  [ 8  8 10]</span>
<span style="color: #228B22">#  [11 11 13]]</span>
<span style="color: #658b00">print</span>(y)
</code></pre></div>
</td></tr></table>

<p>行列 <code>x</code> が巨大な場合Pythonの明示的なループは遅い。行列<code>x</code>の各行
にベクトル <code>v</code> を加えることはスタック領域に積まれた<code>v</code>のコピーと行
列 <code>vv</code> の和を構成することに等しい。以下の例のようになる。</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

<span style="color: #228B22"># 行列 x の各要素にベクトル v を加える</span>
<span style="color: #228B22"># 行列 y に結果を格納</span>
x = np.<span style="color: #8B008B; font-weight: bold">array</span>([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>], [<span style="color: #B452CD">4</span>,<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>], [<span style="color: #B452CD">7</span>,<span style="color: #B452CD">8</span>,<span style="color: #B452CD">9</span>], [<span style="color: #B452CD">10</span>, <span style="color: #B452CD">11</span>, <span style="color: #B452CD">12</span>]])
v = np.<span style="color: #8B008B; font-weight: bold">array</span>([<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>])
vv = np.<span style="color: #8B008B; font-weight: bold">tile</span>(v, (<span style="color: #B452CD">4</span>, <span style="color: #B452CD">1</span>))  <span style="color: #228B22"># v から4つのスタックを作成</span>
<span style="color: #658b00">print</span>(vv)                <span style="color: #228B22"># 印字 &quot;[[1 0 1]</span>
                         <span style="color: #228B22">#        [1 0 1]</span>
                         <span style="color: #228B22">#        [1 0 1]</span>
                         <span style="color: #228B22">#        [1 0 1]]&quot;</span>
y = x + vv <span style="color: #228B22"># x と vv の各要素を加える</span>
<span style="color: #658b00">print</span>(y)   <span style="color: #228B22"># 印字 &quot;[[ 2  2  4</span>
           <span style="color: #228B22">#        [ 5  5  7]</span>
           <span style="color: #228B22">#        [ 8  8 10]</span>
           <span style="color: #228B22">#        [11 11 13]]&quot;</span>
</code></pre></div>
</td></tr></table>

<p>NumPy のブロードキャストは<code>y</code>の多重コピーを作成することなく計算を
実行する。ブロードキャストを用いたバージョンを以下に示す:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

<span style="color: #228B22"># 行列 x の各行にベクトル v を加える</span>
<span style="color: #228B22"># 結果を行列 y に格納する</span>
x = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>], [<span style="color: #B452CD">4</span>,<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>], [<span style="color: #B452CD">7</span>,<span style="color: #B452CD">8</span>,<span style="color: #B452CD">9</span>], [<span style="color: #B452CD">10</span>, <span style="color: #B452CD">11</span>, <span style="color: #B452CD">12</span>]])
v = np.array([<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>])
y = x + v  <span style="color: #228B22"># ブロードキャストを使って x の各行に v を加える</span>
<span style="color: #658b00">print</span>(y)   <span style="color: #228B22"># 印字 &quot;[[ 2  2  4]</span>
           <span style="color: #228B22">#        [ 5  5  7]</span>
           <span style="color: #228B22">#        [ 8  8 10]</span>
           <span style="color: #228B22">#        [11 11 13]]&quot;</span>
</code></pre></div>
</td></tr></table>

<p><code>y = x + v</code>の行は，<code>x</code>は<code>(4,3)</code>の次数を持ち，<code>v</code>は
<code>(3,)</code>の次数を持つことがブロードキャストにより<code>y = x + v</code>が計算され
る。もし<code>v</code>が次数<code>(4,3)</code>であるように作用する。各行は<code>v</code>の
コピーであり各要素の和が計算される。</p>
<p>2つの行列をブロードキャストする場合以下の規則に従う:</p>
<ol>
<li>もし二つの行列が同じ次数でなければ低次数の行列を拡張して等しくする。</li>
<li>二つの行列が，特定の次元のみ一致している場合，片方の配列の次元が1であっても、他の次元も同じサイズの次元にする。</li>
<li>二つの配列全ての次元に互換性があれば両者ともブロードキャストされる。</li>
<li>ブロードキャスト後，各配列は両入力配列の次数が等しいとして振る舞う。</li>
<li>一方の配列のサイズが1であり他方の配列サイズが1より大きい場合，最初の
    配列は次元を繰り返し複写して動作する</li>
</ol>
<p>上記の意味が不明なら，
<a href="http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html">http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html</a> 
の <a href="http://wiki.scipy.org/EricsBroadcastingDoc">http://wiki.scipy.org/EricsBroadcastingDoc</a> 説明を読まれたい。</p>
<p>ブロードキャストをサポートする関数はユニバーサル関数として知られる。
ユニバーサル関数のリストは <a href="http://docs.scipy.org/doc/numpy/reference/ufuncs.html#available-ufuncs">http://docs.scipy.org/doc/numpy/reference/ufuncs.html#available-ufuncs</a> を参照のこと。</p>
<p>ブロードキャストの例を示す:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>

<span style="color: #228B22"># ベクトルの外積を計算</span>
v = np.array([<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>])  <span style="color: #228B22"># v の次数 (3,)</span>
w = np.array([<span style="color: #B452CD">4</span>,<span style="color: #B452CD">5</span>])    <span style="color: #228B22"># w の次数 (2,)</span>
<span style="color: #228B22"># 外積を計算するため v の次数を列へと変形する</span>
<span style="color: #228B22"># 次数 (3, 1) のベクトル; w に対してブロードキャストする</span>
<span style="color: #228B22"># 外積の計算結果である次数 (3, 2) の行列を得る</span>
<span style="color: #228B22"># [[ 4  5]</span>
<span style="color: #228B22">#  [ 8 10]</span>
<span style="color: #228B22">#  [12 15]]</span>
<span style="color: #658b00">print</span>(np.reshape(v, (<span style="color: #B452CD">3</span>, <span style="color: #B452CD">1</span>)) * w)

<span style="color: #228B22"># 行列の各行にベクトルを加算する</span>
x = np.array([[<span style="color: #B452CD">1</span>,<span style="color: #B452CD">2</span>,<span style="color: #B452CD">3</span>], [<span style="color: #B452CD">4</span>,<span style="color: #B452CD">5</span>,<span style="color: #B452CD">6</span>]])
<span style="color: #228B22"># x は次数 (2,3) であり v は (3,) である。v はブロードキャストされて (2,3) となり</span>
<span style="color: #228B22"># x has shape (2, 3) and v has shape (3,) so they broadcast to (2, 3),</span>
<span style="color: #228B22"># 以下の行列を得る:</span>
<span style="color: #228B22"># [[2 4 6]</span>
<span style="color: #228B22">#  [5 7 9]]</span>
<span style="color: #658b00">print</span>(x + v)

<span style="color: #228B22"># 行列の各列にベクトルを加える</span>
<span style="color: #228B22"># x の次数は (2, 3) であり，w の次数は (2,) である。 x を転置すれば</span>
<span style="color: #228B22"># 次数は (3, 2) となり w はブロードキャストされ次数は (3, 2) となる。</span>
<span style="color: #228B22"># 結果は転置され次数 (2, 3) の行列となり以下の行列を得る:</span>
<span style="color: #228B22"># [[ 5  6  7]</span>
<span style="color: #228B22">#  [ 9 10 11]]</span>
<span style="color: #658b00">print</span>((x.T + w).T)
<span style="color: #228B22"># 別解としては次数 (2, 1) の行ベクトルに対して次数を変換し，</span>
<span style="color: #228B22"># その結果をブロードキャストして直接外積を計算する</span>
<span style="color: #658b00">print</span>(x + np.reshape(w, (<span style="color: #B452CD">2</span>, <span style="color: #B452CD">1</span>)))

<span style="color: #228B22"># 行列の定数倍:</span>
<span style="color: #228B22"># 行列 x の次数は (2, 3). Numpy はスカラを次数 () の配列として扱う:</span>
<span style="color: #228B22"># スカラはブロードキャストされ次数 (2, 3) の行列となり以下の結果を得る</span>
<span style="color: #228B22"># [[ 2  4  6]</span>
<span style="color: #228B22">#  [ 8 10 12]]</span>
<span style="color: #658b00">print</span>(x * <span style="color: #B452CD">2</span>)
</code></pre></div>
</td></tr></table>

<p>ブロードキャストによりコードは簡潔になり，高速化する。
可能な限りブロードキャストを使うよう努めるべきである。</p>
<h3 id="numpy_1">NumPy の文書<a class="headerlink" href="#numpy_1" title="Permanent link">&para;</a></h3>
<p>ここでは NumPy に関して概説したが完全な記述には程遠い。NumPy 
のリファレンス <a href="http://docs.scipy.org/doc/numpy/reference/">http://docs.scipy.org/doc/numpy/reference/</a> 
には詳細が記されている。</p>
<h2 id="scipy">SciPy<a class="headerlink" href="#scipy" title="Permanent link">&para;</a></h2>
<p>NumPy は高性能な多次元配列を提供し，配列操作の基本道具を提供している。
SciPy は(<a href="http://docs.scipy.org/doc/scipy/reference/">http://docs.scipy.org/doc/scipy/reference/</a>)
NumPy で定義された配列と科学技術に有益な関数数多く用意している。</p>
<p>SciPy を理解するには<a href="http://docs.scipy.org/doc/scipy/reference/index.html">http://docs.scipy.org/doc/scipy/reference/index.html</a>
を観ることである。ここではSciPy の有益点いくつかに焦点をあてる。</p>
<h3 id="_26">画像操作<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<p>SciPy は画像操作の基本関数を提供する。
例えば，ディスクから画像を読み込んで NumPy の配列に代入し，
NumPy の配列を画像としてディスクに書き込み，
画像のサイズを変更する関数などである。
ここでは，これらの関数例を供覧する</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">from</span> <span style="color: #008b45; text-decoration: underline">scipy.misc</span> <span style="color: #8B008B; font-weight: bold">import</span> imread, imsave, imresize

<span style="color: #228B22"># JPEG 画像を\NumPy 配列に読み込む</span>
img = imread(<span style="color: #CD5555">&#39;assets/cat.jpg&#39;</span>)
<span style="color: #658b00">print</span>(img.dtype, img.shape)  <span style="color: #228B22"># 印字 &quot;uint8 (400, 248, 3)&quot;</span>

<span style="color: #228B22"># 各色チャンネルを異なるスカラ定数により色合いを変える。</span>
<span style="color: #228B22"># 画像は (400, 248, 3) の次数である。</span>
<span style="color: #228B22"># 次数 (3,) の配列 [1, 0.95, 0.9] を掛ける;</span>
<span style="color: #228B22"># numpy のブロードキャストは赤チャンネルは変更せず，</span>
<span style="color: #228B22"># 緑と青とをそれぞれ 0.95 倍，0.9 倍する</span>
img_tinted = img * [<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0.95</span>, <span style="color: #B452CD">0.9</span>]

<span style="color: #228B22"># 色合いを変更した画像を縦横 300 画素の画像に変換する</span>
img_tinted = imresize(img_tinted, (<span style="color: #B452CD">300</span>, <span style="color: #B452CD">300</span>))

<span style="color: #228B22"># 変更した画像をディスクに書き出す</span>

imsave(<span style="color: #CD5555">&#39;assets/cat_tinted.jpg&#39;</span>, img_tinted)
</code></pre></div>
</td></tr></table>

<h3 id="distance-between-points">Distance between points<a class="headerlink" href="#distance-between-points" title="Permanent link">&para;</a></h3>
<p>SciPy は点の集合間の距離を計算するための有益な関数が定義されている。</p>
<p>[<code>scipy.spatial.distance.pdist</code>]
関数は所与の集合に属する全点 間の距離を計算する:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>
<span style="color: #8B008B; font-weight: bold">from</span> <span style="color: #008b45; text-decoration: underline">scipy.spatial.distance</span> <span style="color: #8B008B; font-weight: bold">import</span> pdist, squareform

<span style="color: #228B22"># 2次の行からなる以下の配列を定義する:</span>
<span style="color: #228B22"># [[0 1]</span>
<span style="color: #228B22">#  [1 0]</span>
<span style="color: #228B22">#  [2 0]]</span>
x = np.array([[<span style="color: #B452CD">0</span>, <span style="color: #B452CD">1</span>], [<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0</span>], [<span style="color: #B452CD">2</span>, <span style="color: #B452CD">0</span>]])
<span style="color: #658b00">print</span>(x)

<span style="color: #228B22"># x の全ての行のユークリッド距離の計算</span>
<span style="color: #228B22"># d[i, j] は x[i, :] と x[j, :] との距離であり以下の行列となる</span>
<span style="color: #228B22"># [[ 0.          1.41421356  2.23606798]</span>
<span style="color: #228B22">#  [ 1.41421356  0.          1.        ]</span>
<span style="color: #228B22">#  [ 2.23606798  1.          0.        ]]</span>
d = squareform(pdist(x, <span style="color: #CD5555">&#39;euclidean&#39;</span>))
<span style="color: #658b00">print</span>(d)
</code></pre></div>
</td></tr></table>

<p>詳細は<a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html">http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html</a>に記されている。</p>
<p>類似の関数[<code>scipy.spatial.distance.cdist</code>]
は 2 つの集合の 2 点間の全対の距
離を計算する。<a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cdist.html">http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cdist.html</a>を参照のこと。</p>
<h2 id="matplotlib">Matplotlib<a class="headerlink" href="#matplotlib" title="Permanent link">&para;</a></h2>
<p>Matplotlib は描画ライブラリである。
本節では Mycmdmatplotlib.pyplot モジュールを概説する。 MATLAB と同等のものである。</p>
<h3 id="_27">プロット<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<p>Matplotlib の最重要関数は[<code>plot</code>] である。2 次元の描画が可能である。以下に例を示す:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>
<span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">matplotlib.pyplot</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">plt</span>

<span style="color: #228B22"># x, y 座標に正弦波を描く</span>
x = np.arange(<span style="color: #B452CD">0</span>, <span style="color: #B452CD">3</span> * np.pi, <span style="color: #B452CD">0.1</span>)
y = np.sin(x)

<span style="color: #228B22"># matplotlib の plot 関数で描画</span>
plt.plot(x, y)
plt.show()  <span style="color: #228B22"># 画面に表示するために plt.show() を使う</span>
</code></pre></div>
</td></tr></table>

<p>上記のコードを実行することで以下の画像を得る。</p>
<p><center>
<img src="../assets/sine.png" style="width:49%">
</center></p>
<p>さらに手を加えると複数の線，タイトル，凡例，軸ラベルを描画可能である:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>
<span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">matplotlib.pyplot</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">plt</span>

<span style="color: #228B22"># x, y 座標上に正弦波と余弦波の曲線をプロットする</span>
x = np.arange(<span style="color: #B452CD">0</span>, <span style="color: #B452CD">3</span> * np.pi, <span style="color: #B452CD">0.1</span>)
y_sin = np.sin(x)
y_cos = np.cos(x)

<span style="color: #228B22"># matplotlib の plot を用いる</span>
plt.plot(x, y_sin)
plt.plot(x, y_cos)
plt.xlabel(<span style="color: #CD5555">&#39;x axis label&#39;</span>)
plt.ylabel(<span style="color: #CD5555">&#39;y axis label&#39;</span>)
plt.title(<span style="color: #CD5555">&#39;Sine and Cosine&#39;</span>)
plt.legend([<span style="color: #CD5555">&#39;Sine&#39;</span>, <span style="color: #CD5555">&#39;Cosine&#39;</span>])
plt.show()
</code></pre></div>
</td></tr></table>

<p><center>
<img src="../assets/sine_cosine_subplot.png" style="width:49%">
</center></p>
<p>[<code>plot</code>]関数の詳細は<a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.plot">http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.plot</a>から読むことができる。</p>
<h3 id="_28">サブプロット<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<p>[<code>subplot</code>]関数を用れば同一図に別のプロットを入れることが可能である。
以下に例を示す:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>
<span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">matplotlib.pyplot</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">plt</span>

<span style="color: #228B22"># x, y 座標上で正弦波と余弦波をプロット</span>
x = np.<span style="color: #8B008B; font-weight: bold">arange</span>(<span style="color: #B452CD">0</span>, <span style="color: #B452CD">3</span> * np.pi, <span style="color: #B452CD">0.1</span>)
y_sin = np.<span style="color: #8B008B; font-weight: bold">sin</span>(x)
y_cos = np.<span style="color: #8B008B; font-weight: bold">cos</span>(x)

<span style="color: #228B22"># 高さ2、幅1のサブプロット用格子を設定</span>
<span style="color: #228B22"># 最初のサブプロットをアクティブにする</span>
plt.subplot(<span style="color: #B452CD">2</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">1</span>)

<span style="color: #228B22"># 最初のプロットを作成</span>
plt.plot(x, y_sin)
plt.title(<span style="color: #CD5555">&#39;Sine&#39;</span>)

<span style="color: #228B22"># 2番目のサブプロットをアクティブにし，プロットを作成</span>
plt.subplot(<span style="color: #B452CD">2</span>, <span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>)
plt.plot(x, y_cos)
plt.title(<span style="color: #CD5555">&#39;Cosine&#39;</span>)

<span style="color: #228B22"># 図の画面表示</span>
plt.show()
</code></pre></div>
</td></tr></table>

<p><center>
<img src="../assets/sine_cosine.png" style="width:49%">
</center></p>
<p>[<code>subplot</code>]関数の詳細は<a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.subplot">http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.subplot</a>から読むことができる。</p>
<h3 id="_29">画像<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<p>[<code>imshow</code>]関数を使て画像を表示することが可能である:</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">numpy</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">np</span>
<span style="color: #8B008B; font-weight: bold">from</span> <span style="color: #008b45; text-decoration: underline">scipy.misc</span> <span style="color: #8B008B; font-weight: bold">import</span> imread, imresize
<span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">matplotlib.pyplot</span> <span style="color: #8B008B; font-weight: bold">as</span> <span style="color: #008b45; text-decoration: underline">plt</span>

img = imread(<span style="color: #CD5555">&#39;assets/cat.jpg&#39;</span>)
img_tinted = img * [<span style="color: #B452CD">1</span>, <span style="color: #B452CD">0.95</span>, <span style="color: #B452CD">0.9</span>]

<span style="color: #228B22"># 原画像の表示</span>
plt.subplot(<span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>, <span style="color: #B452CD">1</span>)
plt.imshow(img)

<span style="color: #228B22"># 色合いを変えた画像の表示</span>
plt.subplot(<span style="color: #B452CD">1</span>, <span style="color: #B452CD">2</span>, <span style="color: #B452CD">2</span>)
plt.imshow(img_tinted)
plt.show()
</code></pre></div>
</td></tr></table>

<p><center>
<img src="../assets/cat_tinted_imshow.png" style="width:49%">
</center>
<!--cs231n cs231n karpathy\@cs.stanford.edu--></p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #a61717; background-color: #e3d2d2">2.7 系と 3.4 系の相違についてはセバスチャン・ラシュカ(Sebastian Raschk) のブログ記事が参考になった(&lt;http://sebastianraschka.com/Articles/2014_python_2_3_key_diff.html&gt;)。邦訳も存在する(&lt;http://postd.cc/the-key-differences-between-python-2-7-x-and-python-3-x-with-examples/&gt;)</span>
</code></pre></div>
</td></tr></table>

<p>[^2]: 訳注: 現行では[<code>python3</code>]コマン ドで 3 系の Python が動作するパッケージが散見される(Anaconda&lt;, Ubuntu, Homebrew, MacPorts, など)</p>
<p>[^3]: 訳注:ドキュメントは URL　直下の数字が 2 か 3
    かの違いにより，バージョンごとに文書が整備されているので <script type="math/tex">3</script> 系の
    URL を逐次紹介することは避ける</p>
<table class="codehilitetable"><tr><td><div class="linenodiv" style="background-color: #f0f0f0; padding-right: 10px"><pre style="line-height: 125%">1</pre></div></td><td class="code"><div class="codehilite" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><code><span style="color: #a61717; background-color: #e3d2d2">だからと言って日本語文字ファイル名問題が解決した訳ではない。もちろんそれはPythonの責任ではない</span>
</code></pre></div>
</td></tr></table>

<p>[^6]: Python, NumPy 用語で
    <code>rank</code>とは配列の次元数を表す(1ならベクトル，2なら行列)，
    <code>shape</code>とは配列の各次元の要素数を指すタプル</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../python_modules/" class="btn btn-neutral float-right" title="Python modules">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../eco/" class="btn btn-neutral" title="エコシステム"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright (c) 2020</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../eco/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../python_modules/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
